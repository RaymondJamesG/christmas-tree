<!DOCTYPE html>
<html>
<head>
    <title>Camera Test</title>
</head>
<body>
    <h1>摄像头测试页面</h1>
    <video id="videoElement" autoplay style="width: 100%; height: 50vh; background: black;"></video>
    <p id="status">正在尝试连接摄像头...</p>

    <script>
        const video = document.getElementById('videoElement');
        const status = document.getElementById('status');
        
        // 使用最基础的 JavaScript API 请求摄像头权限
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } })
            .then(function(stream) {
                // 成功：显示摄像头画面
                video.srcObject = stream;
                status.innerText = "✅ 成功：摄像头已连接！";
            })
            .catch(function(error) {
                // 失败：显示错误信息
                status.innerText = "❌ 失败：无法访问摄像头。错误信息：" + error.name + " - " + error.message;
            });
        } else {
            status.innerText = "浏览器不支持访问媒体设备。";
        }
    </script>
</body>
</html>
